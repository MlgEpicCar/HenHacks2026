{% extends "base.html" %}

{% block content %}

<h1>Hello World</h1>

<div class="index_container">
    <div class="dashboard">
        <h2>My Goals</h2>
        <p>View your goals and progress.</p>
        <div class="goals_container" id="goals_Container">
            {% if current_user %}
                {% for goal in goals %}
                    <div class="goals" data-goal-id="{{ goal.id }}" data-priority="{{ goal.priority }}">
                        <p class="goaltxt">{{ goal.text }}</p>
                        <span class="priority-badge" title="Priority">XP: {{ goal.priority }}</span>
                        <input class="goal-checkbox" type="checkbox" {% if goal.completed %}checked{% endif %}>
                    </div>
                {% endfor %}
            {% endif %}
            <div class="goals add-goal-wrapper">
                <button class="goaltxt" id="addGoalButton" onclick="openModal()">
                    Add Goal
                </button>
            </div>
            
        </div>
        

    </div>
    <div class="hubzone">
        <img class="hub-background" src="/static/images/forest.jpg">

        {% if current_user %}
            <img class="hub-pal"
                src="{{ url_for('static', filename='pfps/' + current_user.pfp + '.png') }}"
                alt="Your Pal">
        {% endif %}
    </div>
</div>

<div class="modal" id="popup">
  <div class="modal-content">
    <h3>Set a Personal GoalðŸ‘‹</h3>
    <p> Enter a goal you want to achieve </p>
    <p> Choose a number based on its difficulty and importance.</p>
    <input type="text" id="itemInput" placeholder="Enter item">
    <label for="priorityInput">Priority (1-5):</label>
    <input type="number" id="priorityInput" min="1" max="5" value="3" placeholder="1-5">
    <button class="close" onclick="addItem(), closeModal()">Add Goal</button>
  </div>
</div>

{% endblock %}